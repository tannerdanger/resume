import Scene from"./Scene.js";import{ASSET_PATHS}from"../../utils/Const.js";import Vector from"../../utils/Vector.js";export class PauseMenu extends Scene{constructor(s){super(s),this.name="pause",this.ctx=s.ctx,this.x=s.ctx.canvas.width/2-360,this.y=s.ctx.canvas.height/2-320,this.img=s.getAsset(ASSET_PATHS.Pause),this.buttonTop=this.y+425,this.buttonBot=this.y+500,this.resumebounds={l:this.x+100,r:this.x+259},this.exitbounds={l:this.x+260,r:this.x+459},this.instructionbounds={l:this.x+460,r:this.x+620},this.musicdown=new Vector(this.x+180,this.y+270),this.musicup=new Vector(this.x+550,this.y+270),this.sfxdown=new Vector(this.x+180,this.y+360),this.sfxup=new Vector(this.x+550,this.y+270),this.maxDist=25}update(){if(this.game.inputManager.isLeftClick()){const s=this.game.inputManager.lastLeftClickPosition;let t=!1;if(s.y>this.buttonTop&&s.y<this.buttonBot&&(s.x>this.resumebounds.l&&s.x<this.resumebounds.r?(t=!0,this.game.sceneManager.isPaused=!1):s.x>this.exitbounds.l&&s.x<this.exitbounds.r?(t=!0,this.game.sceneManager.quitGame()):s.x>this.instructionbounds.l&&s.x<this.instructionbounds.r&&(t=!0,console.log("pressed instructions"))),!t){let i=s.distance(this.musicup);i<this.maxDist&&!t?(t=!0,this.game.soundManager.incMusic()):i=s.distance(this.musicdown),i<this.maxDist&&!t?(console.log("music down, dist:"+i),t=!0,this.game.soundManager.decMusic()):i=s.distance(this.sfxup),i<this.maxDist&&!t?(console.log("sfx up, dist:"+i),t=!0,this.game.soundManager.incSFX()):i=s.distance(this.sfxdown),i<this.maxDist&&!t&&(console.log("sfx down, dist: "+i),t=!0,this.game.soundManager.decSFX())}}}draw(){this.ctx.drawImage(this.img,this.x,this.y),this.musicdown.distance(this.musicup);let s=this.musicdown.x+40,t=this.musicdown.y,i=Math.floor(10*this.game.soundManager.MUSICvol);for(let e=0;e<2;e++){this.ctx.fillStyle="#ff3300";for(let e=0;e<10;e++)this.ctx.fillRect(0+s+30*e,t-30,30,25),e===i&&(this.ctx.fillStyle="#fff8f8");i=Math.floor(10*this.game.soundManager.SFXvol),t=this.sfxdown.y+5}}enter(s){this.previous=s.name}exit(){this.game.sceneManager.isPaused=!1}}